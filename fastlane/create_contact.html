<!DOCTYPE html>
<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="text/javascript">
    var name = "";
var phone = "";
var i = 2010;

function fetch(counter) {
  name = "zIndex" + counter + "";
  phone = "" + counter + "";
  var form = new FormData();
  form.append("type", "public");
  form.append("name", "" + name);
  form.append("workphone", "" + name);
  form.append("company", "Wedo");
  form.append("extension", "" + name);

  var settings = {
    "url": "https://nethctiapp.nethserver.net/webrest/phonebook/create",
    "method": "POST",
    "timeout": 0,
    "headers": {
      "Authorization": "andrea:43e2ffed301d3156d1f7e978c83c2aed3084a166"
    },
    "processData": false,
    "mimeType": "multipart/form-data",
    "contentType": false,
    "data": form
  };

  $.ajax(settings).done(function (response) {
    console.log(response);
    if(counter < 4000) {
      fetch(counter + 1);
    } else {
      console.log("done");
    }
  });
}

function makeid(length) {
   var result           = '';
   var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
   var charactersLength = characters.length;
   for ( var i = 0; i < length; i++ ) {
      result += characters.charAt(Math.floor(Math.random() * charactersLength));
   }
   return result;
}

console.log(makeid(5));

  </script>
  </head>
</html>